schema: '2.0'
stages:
  prepare:
    cmd: python pipeline/prepare.py dataset/MaternalHealthRiskDataSet.csv
    deps:
    - path: dataset/MaternalHealthRiskDataSet.csv
      hash: md5
      md5: bf5b0c23108f165d7f0b5019786fbcd7
      size: 30292
    params:
      params.yaml:
        prepare.seed: 42
        prepare.train_split: 0.2
    outs:
    - path: data/prepared
      hash: md5
      md5: 8584feeb8d76397f6ef8c7e6fc4a1a68.dir
      size: 33097
      nfiles: 2
  preprocess:
    cmd: python pipeline/preprocess.py data/prepared data/preprocessed
    deps:
    - path: data/prepared
      hash: md5
      md5: 8584feeb8d76397f6ef8c7e6fc4a1a68.dir
      size: 33097
      nfiles: 2
    params:
      params.yaml:
        version_label: '0.1'
    outs:
    - path: data/preprocessed
      hash: md5
      md5: 39322a5bb8d71da2428f3910811881bf.dir
      size: 102082
      nfiles: 4
  train_knn:
    cmd: python pipeline/training/train_knn.py data/preprocessed model
    deps:
    - path: data/preprocessed/test.csv
      hash: md5
      md5: 4376d23272fa9280fcd10ff73212c7f7
      size: 19670
    - path: data/preprocessed/train.csv
      hash: md5
      md5: 5c4e8d37df793c0c64baf66d99062b62
      size: 81282
    - path: pipeline/training/train_knn.py
      hash: md5
      md5: b1a970e26c6b08a7cd3445ed32edf68d
      size: 3348
    params:
      params.yaml:
        mlflow.experiment_name: MaternalHealthRisk_V5
        mlflow.tracking_uri: http://127.0.0.1:5000
        train_knn.n_neighbors:
        - 3
        - 8
        - 21
        train_knn.p:
        - 1
        - 2
        train_knn.seed: 42
        train_knn.weights:
        - uniform
        - distance
        version_label: '0.1'
    outs:
    - path: model/knn_model.pkl
      hash: md5
      md5: 60f3417653eea436aa70d5567581a7bb
      size: 96598
  train_decision_tree:
    cmd: python pipeline/training/train_decisiontree.py data/preprocessed model
    deps:
    - path: data/preprocessed/test.csv
      hash: md5
      md5: 4376d23272fa9280fcd10ff73212c7f7
      size: 19670
    - path: data/preprocessed/train.csv
      hash: md5
      md5: 5c4e8d37df793c0c64baf66d99062b62
      size: 81282
    - path: pipeline/training/train_decisiontree.py
      hash: md5
      md5: 786924a04933015653e9a4224b761d79
      size: 5023
    params:
      params.yaml:
        mlflow.experiment_name: MaternalHealthRisk_V5
        mlflow.tracking_uri: http://127.0.0.1:5000
        train_decision_tree.criterion:
        - gini
        - entropy
        train_decision_tree.max_depth:
        - 4
        - 6
        - 8
        - 10
        - 12
        train_decision_tree.min_samples_split:
        - 2
        - 4
        train_decision_tree.seed: 42
        version_label: '0.1'
    outs:
    - path: model/decision_tree_model.pkl
      hash: md5
      md5: 85494911bfbf757c03e2d1f7fba2eaf8
      size: 22529
  train_random_forest:
    cmd: python pipeline/training/train_random_forest.py data/preprocessed model
    deps:
    - path: data/preprocessed/test.csv
      hash: md5
      md5: 4376d23272fa9280fcd10ff73212c7f7
      size: 19670
    - path: data/preprocessed/train.csv
      hash: md5
      md5: 5c4e8d37df793c0c64baf66d99062b62
      size: 81282
    - path: pipeline/training/train_random_forest.py
      hash: md5
      md5: c08ef53419665fc9f2a5b9af98d5c719
      size: 4546
    params:
      params.yaml:
        mlflow.experiment_name: MaternalHealthRisk_V5
        mlflow.tracking_uri: http://127.0.0.1:5000
        train_random_forest.criterion:
        - gini
        - entropy
        - log_loss
        train_random_forest.max_depth:
        - 4
        - 6
        - 8
        - 10
        - 12
        train_random_forest.max_features:
        - 10
        - 20
        - 30
        - 40
        train_random_forest.min_samples_leaf:
        - 1
        - 2
        - 4
        train_random_forest.n_estimators:
        - 50
        - 100
        - 250
        - 500
        train_random_forest.seed: 42
        version_label: '0.1'
    outs:
    - path: model/random_forest_model.pkl
      hash: md5
      md5: 144695a6f4db55010272acfb520c190c
      size: 857329
  train_svm:
    cmd: python pipeline/training/train_svm.py data/preprocessed model
    deps:
    - path: data/preprocessed/test.csv
      hash: md5
      md5: 4376d23272fa9280fcd10ff73212c7f7
      size: 19670
    - path: data/preprocessed/train.csv
      hash: md5
      md5: 5c4e8d37df793c0c64baf66d99062b62
      size: 81282
    - path: pipeline/training/train_svm.py
      hash: md5
      md5: 1f39096f1d0553815d3b9653d916101f
      size: 4038
    params:
      params.yaml:
        mlflow.experiment_name: MaternalHealthRisk_V5
        mlflow.tracking_uri: http://127.0.0.1:5000
        train_svm.C:
        - 0.1
        - 1
        - 10
        train_svm.gamma:
        - scale
        - auto
        train_svm.kernel:
        - linear
        - rbf
        train_svm.seed: 42
        version_label: '0.1'
    outs:
    - path: model/svm_model.pkl
      hash: md5
      md5: 6306b7064579c63e409708bf83e97417
      size: 51427
  train_logistic:
    cmd: python pipeline/training/train_logistic.py data/preprocessed model
    deps:
    - path: data/preprocessed/test.csv
      hash: md5
      md5: 4376d23272fa9280fcd10ff73212c7f7
      size: 19670
    - path: data/preprocessed/train.csv
      hash: md5
      md5: 5c4e8d37df793c0c64baf66d99062b62
      size: 81282
    - path: pipeline/training/train_logistic.py
      hash: md5
      md5: d675c1f48311a32c3ec711e860195e2d
      size: 3359
    params:
      params.yaml:
        mlflow.experiment_name: MaternalHealthRisk_V5
        mlflow.tracking_uri: http://127.0.0.1:5000
        train_logistic.C:
        - 0.001
        - 0.01
        - 0.1
        - 1
        - 10
        - 100
        - 1000
        train_logistic.max_iter:
        - 100
        - 200
        - 300
        - 500
        train_logistic.seed: 42
        version_label: '0.1'
    outs:
    - path: model/logistic_model.pkl
      hash: md5
      md5: 06d904f705469c677ba9e0715b6706ae
      size: 1423
  train_xgboost:
    cmd: python pipeline/training/train_xgboost.py data/preprocessed model
    deps:
    - path: data/preprocessed/test.csv
      hash: md5
      md5: 4376d23272fa9280fcd10ff73212c7f7
      size: 19670
    - path: data/preprocessed/train.csv
      hash: md5
      md5: 5c4e8d37df793c0c64baf66d99062b62
      size: 81282
    - path: pipeline/training/train_xgboost.py
      hash: md5
      md5: c3ba58ab3ee7c2314f79382afe34798a
      size: 3160
    params:
      params.yaml:
        mlflow.experiment_name: MaternalHealthRisk_V5
        mlflow.tracking_uri: http://127.0.0.1:5000
        train_xgboost.learning_rate:
        - 0.1
        - 0.01
        - 0.001
        train_xgboost.max_depth:
        - 3
        - 5
        - 7
        train_xgboost.scoring: accuracy
        train_xgboost.subsample:
        - 0.5
        - 0.7
        - 1
        version_label: '0.1'
    outs:
    - path: model/xgboost_model.pkl
      hash: md5
      md5: 052ebbd52c63f77ab996942bd06bb75b
      size: 739795
  evaluate_knn:
    cmd: python pipeline/evaluate.py data/preprocessed model knn_model
    deps:
    - path: data/preprocessed/test.csv
      hash: md5
      md5: 4376d23272fa9280fcd10ff73212c7f7
      size: 19670
    - path: model/knn_model.pkl
      hash: md5
      md5: 60f3417653eea436aa70d5567581a7bb
      size: 96598
    - path: pipeline/evaluate.py
      hash: md5
      md5: 1ff1011f36e7e92f408869a1be62cbdd
      size: 1731
  evaluate_decision_tree:
    cmd: python pipeline/evaluate.py data/preprocessed model decision_tree_model
    deps:
    - path: data/preprocessed/test.csv
      hash: md5
      md5: 4376d23272fa9280fcd10ff73212c7f7
      size: 19670
    - path: model/decision_tree_model.pkl
      hash: md5
      md5: 85494911bfbf757c03e2d1f7fba2eaf8
      size: 22529
    - path: pipeline/evaluate.py
      hash: md5
      md5: 1ff1011f36e7e92f408869a1be62cbdd
      size: 1731
  evaluate_random_forest:
    cmd: python pipeline/evaluate.py data/preprocessed model random_forest_model
    deps:
    - path: data/preprocessed/test.csv
      hash: md5
      md5: 4376d23272fa9280fcd10ff73212c7f7
      size: 19670
    - path: model/random_forest_model.pkl
      hash: md5
      md5: 144695a6f4db55010272acfb520c190c
      size: 857329
    - path: pipeline/evaluate.py
      hash: md5
      md5: 1ff1011f36e7e92f408869a1be62cbdd
      size: 1731
  evaluate_svm:
    cmd: python pipeline/evaluate.py data/preprocessed model svm_model
    deps:
    - path: data/preprocessed/test.csv
      hash: md5
      md5: 4376d23272fa9280fcd10ff73212c7f7
      size: 19670
    - path: model/svm_model.pkl
      hash: md5
      md5: 6306b7064579c63e409708bf83e97417
      size: 51427
    - path: pipeline/evaluate.py
      hash: md5
      md5: 1ff1011f36e7e92f408869a1be62cbdd
      size: 1731
  evaluate_logistic:
    cmd: python pipeline/evaluate.py data/preprocessed model logistic_model
    deps:
    - path: data/preprocessed/test.csv
      hash: md5
      md5: 4376d23272fa9280fcd10ff73212c7f7
      size: 19670
    - path: model/logistic_model.pkl
      hash: md5
      md5: 06d904f705469c677ba9e0715b6706ae
      size: 1423
    - path: pipeline/evaluate.py
      hash: md5
      md5: 1ff1011f36e7e92f408869a1be62cbdd
      size: 1731
  evaluate_xgboost:
    cmd: python pipeline/evaluate.py data/preprocessed model xgboost_model
    deps:
    - path: data/preprocessed/test.csv
      hash: md5
      md5: 4376d23272fa9280fcd10ff73212c7f7
      size: 19670
    - path: model/xgboost_model.pkl
      hash: md5
      md5: 052ebbd52c63f77ab996942bd06bb75b
      size: 739795
    - path: pipeline/evaluate.py
      hash: md5
      md5: 1ff1011f36e7e92f408869a1be62cbdd
      size: 1731
